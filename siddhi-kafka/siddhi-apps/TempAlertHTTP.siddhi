@App:name('TempAlertHTTP')

@source(
    type='http',
    receiver.url='http://0.0.0.0:8006/SensorStream',
    method='POST',  
    @map(type='json')
)
define stream SensorStream (sensorId string, temperature double);

@sink(type='log', prefix='ALERT')
define stream AlertStream (sensorId string, temperature double);

@info(name='tempQuery')
from SensorStream[temperature > 15]
select sensorId, temperature
insert into AlertStream;
